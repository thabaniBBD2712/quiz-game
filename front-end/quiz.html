<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/quiz.css">
  <script src="./js/quiz.js"></script>
  <title>Quiz</title>
</head>
<body>
    
  <nav class="navbar">
    <a href="#home">Quiz List</a>
    <a href="quiz.html">Game</a>
    <a href="quiz.html">Log Out</a>
  </nav>
<div id="quiz-container">
    <h1>Math Quiz</h1>
    <div id="question"></div>
    <input type="text" id="answer" placeholder="Enter your answer">
    <button onclick="checkAnswer()">Submit</button>
    <div id="result"></div>
  </div>
  <footer>
    <p>&copy; 2023 Quiz Game. All rights reserved.</p>
  </footer>
  <script>  
  function fetchQuizData() {
  return fetch('https://44.211.144.227:7777/quiz/short')
    .then(response => response.json())
    .then(data => {
      return data; // Return the retrieved data
    })
    .catch(error => {
      console.error('Error:', error);
    });
}

fetchQuizData()
  .then(data => {
const quizData = data['quizShortData'];
console.log(quizData);
let currentQuestion = 0;
let score = 0;

const questionElement = document.getElementById("question");
const answerElement = document.getElementById("answer");
const resultElement = document.getElementById("result");

function loadQuestion() {
  const currentQuiz = quizData[currentQuestion];
  console.log(currentQuiz)
  questionElement.textContent = currentQuiz.Question;
}

function checkAnswer() {
  const userAnswer = answerElement.value.trim().toLowerCase();
  const currentQuiz = quizData[currentQuestion];

  if (userAnswer === currentQuiz.answer.toLowerCase()) {
    score++;
    resultElement.textContent = "Correct!üëç";
  } else {
    resultElement.textContent = "Wrong! üëé";
  }

  currentQuestion++;

  if (currentQuestion < quizData.length) {
    loadQuestion();
    answerElement.value = "";
  } else {
    showFinalScore();
  }
}

function showFinalScore() {
  const totalScore = (score / (quizData.length-1)) * 100;
  questionElement.textContent = `Quiz completed. üéâ Your score is ${totalScore}%`;
  answerElement.style.display = "none";
  resultElement.style.display = "none";
}

loadQuestion(); 
  })
  .catch(error => {
    console.error('Error:', error);
  });

  </script>
</body>
</html>



